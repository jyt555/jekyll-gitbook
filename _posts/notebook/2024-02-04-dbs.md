---
title: DBS
author: jyt555
date: 2024-02-04
category: pages/notebook
layout: post
mermaid: true
---

# 。

## Introduction

grading policy:

50 final exam | 30 lab and project | 20 hw and class test

final exam: close book test, but allow taking one handwritten A4 page note

### what should we learn?

* Modeling and design of databases
* Programming: use database - queries and update of data
* `DBMS( Database Management system )` implementation - how does DBMS work, and how to design a DBMS

### what’s a database

<details>
    <summary>Database Definition [click]</summary>
    .<br/>
    A collection of <b>interrelated data</b>, relevant to an enterprise.<br/>
    A large collection of <b>integrated and persistent</b> data.<br/>
    A collection of information that exists over a long period of time, often many years.<br/>
    .
</details>

<details>
	<summary>Database Management System (DBMS) [click]</summary>
    .<br/>
    (Database) + A set of programs used to access, update and manage the data in database.<br/>
    .
</details>

<details>
    <summary>Major properties of DBMS [click]</summary>
    .<br/>
    * <b>Efficiency</b> and <b>scalability</b> (可扩展性) in data access;<br/>
    * <b>Reduced</b> application development time;<br/>
    * Data <b>independence</b> (physical data independence / logical data independence);<br/>
    * Data <b>integrity</b> (完整性) and security;<br/>
    * <b>Concurrent access</b> and <b>robustness</b> (recovery).<br/>
    .
</details>

### DBMS

- a historical perspective
- database systems VS file processing systems
- marketplace

### Levels of Data Abstraction

How to use DB - Different usage needs different level of **abstraction.** 
(e.g., student score management system)

* Physical level: describes how a record is stored.
* Logical level: describes data stored in database, and the relationships among the data on upper level.
* View level: application programs hide details of data types. Views can also hide information.

`Schemas (模式) and Instances (实例)`

Similar to types (schema) and variables (instance) in programming languages

* Schema: the **structure of the database on different level**
* Instance: the actual **content** of the database at a particular point in time

![](../../assets/notebook/Snipaste_2024-03-01_15-24-15.png)

### Data Models

<details>
    <summary>Data model - A collection of conceptual tools for describing [click]</summary>
    .<br/>
    data structure, data relationships, data semantics (语义), data constraints<br/>
    .
</details>

<details>
    <summary>Different data models [click]</summary>
    .<br/>
    Entity-Relationship model, Relational model, object-oriented model. semi-structured data model(XML)…<br/>
    .
</details>

<details>
    <summary>6 Steps of Database Design [click]</summary>
    .<br/>
    Requirement analysis<br/>
    Conceptual database design<br/>
    Logical database design<br/>
    Schema refinement<br/>
    Physical database design<br/>
    Create and initialize the database.Security design<br/>
    .
</details>

### Database Language

#### Data Definition Language (DDL,数据定义语言)

* Specifies a **database scheme** as a set of definitions of **relational schema**.
* Also specifies **storage structure, access methods and consistency constraints.**
* DDL statements are compiled, resulting in a set of tables stored in a special file: **data dictionary** (数据字典), which contains metadata (元数据).

#### Data Manipulation Language (DML,数据操纵语言)

DML (alse known as query language):

**Retrieve**(检索) data from the database, **Insert / delete / update** data in the database 

Two classes of languages: Procedural and **Non**procedural (user specifies what data is required **without** specifying how to get those data e.g. SQL, Prolog)

#### Data Control Language (DCL,数据控制语言)

#### Structured Query Language (SQL,结构化查询语言)

SQL = DDL + DML + DCL, it’s the most widely used query language.

### Database Users

### Database Administrator (DBA)

### Transaction Management (事务管理)

**Transaction requirement: ACID**

atomicity ( 原子性), consistence (一致性), isolation (隔离性), durability ( 持久性)

### Database management system structure

---

## Relational Model

### What is relational model

* The relational model is very simple and elegant.
* A `relational database` is a collection of one or more `relations`, which are based on relational model.
* A relation is a **table** with **rows and columns.**
* The major advantages of the relational model are its simple data representation and the ease with which even complex queries can be expressed.
* Owing to the great language SQL, the most widely used language for creating, manipulating, and querying relational database.

| A **relationship** (联系): an association among several **entities**. |

| A **relation**(关系): is the mathematical concept, referred to a **table**. |

### Basic Structure

A relation *r* is a subset of $D_1\times D_2\times \dots \times D_n$, a Cartesian product (笛卡尔积) of a list of domain $D_i$.

Thus a relation is a set of n-tuples $(a_{1j},\;a_{2j},\;\dots ,\;a_{nj})$

#### Attribute Types (属性类型)

* Each attribute of a relation has a name
* The set of allowed values for each attribute is called the **domain** of the attribute
* `Attribute values` are (normally) required to be **atomic**, that is, indivisible (1st NF，第一范式)
* The special value **null** is a member of every domain
* The **null** value causes complications in the definition of many operations

#### Concepts about relation

A relation is concerned with two concepts: 

* `relation schema 模式`: describe the structure of the relation
* `relation instance 实例`: corresponds to the snapshot of the data in the relation at a given instant in time

|    variable    |     relation      |
| :------------: | :---------------: |
| variable type  |  relation schema  |
| variable value | relation instance |

#### Relations are Unordered

**Order of tuples is irrelevant** (tuples may be stored in an arbitrary order), and tuples in a relation are no duplicate.

#### Keys (码，键)

![](../../assets/notebook/Snipaste_2024-03-04_15-27-43.png)

#### Foreign Key (外键，外码)

![](../../assets/notebook/Snipaste_2024-03-05_19-24-19.png)

#### Query Languages:star:

* Language in which user requests information from the database
* “Pure” languages:
  * Relational Algebra - the basis of SQL
  * Tuple Relational Calculus (元组关系演算)
  * Domain Relational Calculus (域关系演算) - QBE
* Pure languages form underlying basis of query languages that people use

### Relational Algebra

* Procedural language (in some extent)
* Six basic operators
  * Select 选择
  * Project 投影
  * Union 并
  * set difference 差（集合差）
  * Cartesian product 笛卡尔积
  * Rename 改名 (重命名)
* The operators take one or two relations as inputs and give a new relation as a result.
* Additional operations
  * Set intersection 交
  * Natural join 然连接
  * Division 除
  * Assignment 赋值



